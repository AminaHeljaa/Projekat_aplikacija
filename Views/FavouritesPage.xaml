<ContentPage
    x:Class="Projekatv2.Views.FavouritesPage"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:binding="clr-namespace:Projekatv2.Binding"
    xmlns:views="clr-namespace:Projekatv2.Views"

    Title="Favorites">

    <ContentPage.BindingContext>
        <binding:Home />
    </ContentPage.BindingContext>

    <CollectionView ItemsSource="{Binding FavoriteProducts}">
        <CollectionView.ItemTemplate>
            <DataTemplate>
                <Frame CornerRadius="15" Padding="10" Margin="5" BackgroundColor="White" HasShadow="True">
                    <Grid ColumnDefinitions="80,*,80">
                        <Image Source="{Binding Image}" HeightRequest="70" WidthRequest="70" Aspect="AspectFill"/>
                        <VerticalStackLayout Grid.Column="1" Spacing="5">
                            <Label Text="{Binding Name}" FontAttributes="Bold" FontSize="16"/>
                            <Label Text="{Binding Description}" FontSize="13" TextColor="Gray"/>
                            <Label Text="{Binding Price, StringFormat='{}{0} KM'}" FontAttributes="Bold" TextColor="#F4B400"/>
                        </VerticalStackLayout>
                        <Button Text="Ukloni" Grid.Column="2" BackgroundColor="#F4B400" TextColor="White" CornerRadius="15"
                             Command="{Binding Source={RelativeSource AncestorType={x:Type binding:Home}}, Path=ToggleFavoriteCommand}"
                             CommandParameter="{Binding .}"/>
                    </Grid>
                </Frame>
            </DataTemplate>
        </CollectionView.ItemTemplate>
    </CollectionView>
</ContentPage>
